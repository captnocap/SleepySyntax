"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{4966:(e,t,a)=>{a.d(t,{V:()=>eq,r:()=>eG});var s=a(54568),i=a(98518),l=a(1761);a(39323);var n=a(43195),r=a(32987),d=a(42224);let o=e=>(0,s.jsxs)(d.z,{...e,className:(0,r.A)("group backface-hidden",e.className),children:[(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.35352 3.1464L9.35352 6.14642C9.43935 6.25103 9.5 6.36003 9.5 6.50091C9.4998 6.6332 9.44704 6.75988 9.35352 6.85346L6.35352 9.85347C6.14584 10.0609 5.85611 10.0243 5.64648 9.85347L2.64648 6.85346C2.55296 6.75988 2.5002 6.6332 2.5 6.50091C2.5 6.36841 2.55285 6.24017 2.64648 6.14642L5.64648 3.1464C5.8552 2.97421 6.14635 2.93936 6.35352 3.1464ZM6 8.79194L3.70703 6.49994L6 4.20696L8.29297 6.49994L6 8.79194Z"}),(0,s.jsx)("path",{className:"group-hover:-rotate-90 transition-transform duration-200 ease-snappy-out",style:{transformOrigin:"14px 6.5px"},d:"M16.8984 3.7509C16.9875 3.90632 16.986 4.09826 16.8955 4.25286L15.5791 6.49994L16.8955 8.74702C16.986 8.90159 16.9874 9.09354 16.8984 9.24898C16.8093 9.40436 16.643 9.49996 16.4638 9.49996H11.5C11.3198 9.49996 11.1532 9.4028 11.0644 9.24605C10.976 9.08949 10.9789 8.89736 11.0713 8.74312L12.417 6.49994L11.0713 4.25676C10.9789 4.1025 10.976 3.91037 11.0644 3.75383C11.1532 3.59717 11.3199 3.49992 11.5 3.49992H16.4638C16.6429 3.51309 16.8055 3.58909 16.8984 3.7509ZM13.4287 6.2431C13.5152 6.4107 13.5166 6.58638 13.4287 6.75678L12.3828 8.49995H15.5918L14.5683 6.75287C14.477 6.59683 14.477 6.40303 14.5683 6.24701L15.5918 4.49993H12.3828L13.4287 6.2431Z"}),(0,s.jsx)("path",{className:"group-hover:rotate-[120deg] transition-transform duration-200 ease-snappy-out",style:{transformOrigin:"6px 14px"},fillRule:"evenodd",clipRule:"evenodd",d:"M7.25293 10.9668C7.40708 10.8793 7.59647 10.8801 7.75 10.9687C7.90356 11.0574 7.99869 11.2211 8 11.3984L8.01074 12.8388L9.30762 13.6054C9.42811 13.6994 9.49994 13.8448 9.5 14C9.5 14.1773 9.40587 14.3418 9.25293 14.4316L8.01074 15.1601L7.99512 16.667C7.97406 16.8184 7.88446 16.9536 7.75 17.0312C7.59642 17.1199 7.40713 17.1207 7.25293 17.0332L6 16.3203L4.74707 17.0332C4.59287 17.1207 4.40358 17.1199 4.25 17.0312C4.09643 16.9425 4.00124 16.7789 4 16.6015L3.99023 15.1601L2.74707 14.4316C2.59413 14.3418 2.5 14.1773 2.5 14C2.50006 13.8448 2.57188 13.6994 2.69238 13.6054L3.99023 12.8388L4 11.3984C4.00131 11.2211 4.09644 11.0574 4.25 10.9687C4.40353 10.8801 4.59292 10.8793 4.74707 10.9668L6 11.6787L7.25293 10.9668ZM4.99512 12.2568L5.75293 12.6884C5.90608 12.7754 6.09392 12.7754 6.24707 12.6884L7.00586 12.2568L7.01172 13.1308C7.01308 13.3068 7.10706 13.4695 7.25879 13.5586L8.01172 14L7.25879 14.4414C7.10706 14.5304 7.01315 14.6932 7.01172 14.8691L7.00586 15.7422L6.24707 15.3115C6.09397 15.2246 5.90603 15.2246 5.75293 15.3115L4.99512 15.7422L4.98828 14.8691C4.98703 14.7152 4.91459 14.5716 4.79492 14.4785L3.98926 14L4.74121 13.5586C4.87421 13.4805 4.96267 13.3457 4.9834 13.1953L4.99512 12.2568Z"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14 11C15.6568 11 16.9999 12.3432 17 14C17 15.6568 15.6569 17 14 17C12.3431 17 11 15.6568 11 14C11.0001 12.3432 12.3432 11 14 11ZM12 14C12.0001 12.8955 12.8955 12 14 12C15.1045 12 15.9999 12.8955 16 14C16 15.1045 15.1046 16 14 16C12.8954 16 12 15.1045 12 14Z"})]}),c=e=>(0,s.jsxs)(d.z,{...e,className:(0,r.A)("group",e.className),children:[(0,s.jsx)("path",{className:"group-hover:-translate-x-[0.5px] transition group-active:translate-x-0",d:"M8.99962 2C12.3133 2 14.9996 4.68629 14.9996 8C14.9996 11.3137 12.3133 14 8.99962 14H2.49962C2.30105 13.9998 2.12113 13.8821 2.04161 13.7002C1.96224 13.5181 1.99835 13.3058 2.1334 13.1602L3.93516 11.2178C3.34317 10.2878 2.99962 9.18343 2.99962 8C2.99962 4.68643 5.68609 2.00022 8.99962 2ZM8.99962 3C6.23838 3.00022 3.99961 5.23871 3.99961 8C3.99961 9.11212 4.36265 10.1386 4.97618 10.9688C5.11884 11.1621 5.1035 11.4293 4.94004 11.6055L3.64512 13H8.99962C11.761 13 13.9996 10.7614 13.9996 8C13.9996 5.23858 11.761 3 8.99962 3Z"}),(0,s.jsx)("path",{className:"group-hover:translate-x-[0.5px] transition group-active:translate-x-0",d:"M16.5445 9.72754C16.4182 9.53266 16.1678 9.44648 15.943 9.53418C15.7183 9.62215 15.5932 9.85502 15.6324 10.084L15.7369 10.3955C15.9073 10.8986 16.0006 11.438 16.0006 12C16.0006 13.1123 15.6376 14.1386 15.024 14.9687C14.8811 15.1621 14.8956 15.4302 15.0592 15.6064L16.3531 17H11.0006C9.54519 17 8.23527 16.3782 7.32091 15.3848L7.07091 15.1103C6.88996 14.9645 6.62535 14.9606 6.43907 15.1143C6.25267 15.2682 6.20668 15.529 6.31603 15.7344L6.58458 16.0625C7.68048 17.253 9.25377 18 11.0006 18H17.5006C17.6991 17.9998 17.8791 17.8822 17.9586 17.7002C18.038 17.5181 18.0018 17.3058 17.8668 17.1602L16.0631 15.2178C16.6554 14.2876 17.0006 13.1837 17.0006 12C17.0006 11.3271 16.8891 10.6792 16.6842 10.0742L16.5445 9.72754Z"})]}),u=e=>(0,s.jsxs)(d.z,{...e,className:(0,r.A)("group",e.className),children:[(0,s.jsx)("path",{d:"M15.8198 7C16.6885 7.00025 17.3624 7.73158 17.3178 8.57617L17.2993 8.74707L16.1332 15.7471C16.0126 16.4699 15.3865 16.9996 14.6538 17H5.34711C4.6142 16.9998 3.98833 16.47 3.86762 15.7471L2.7016 8.74707C2.54922 7.83277 3.25418 7 4.18109 7H15.8198ZM4.18109 8C3.87216 8 3.63722 8.27731 3.68793 8.58203L4.85394 15.582C4.89413 15.8229 5.10291 15.9998 5.34711 16H14.6538C14.8978 15.9996 15.1068 15.8228 15.1469 15.582L16.3129 8.58203L16.3188 8.46973C16.3036 8.21259 16.0899 8.00023 15.8198 8H4.18109Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-[0.5px] transition group-active:translate-y-0",d:"M16.0004 5.5C16.0004 5.224 15.7764 5.00024 15.5004 5H4.50043C4.22428 5 4.00043 5.22386 4.00043 5.5C4.00043 5.77614 4.22428 6 4.50043 6H15.5004C15.7764 5.99976 16.0004 5.776 16.0004 5.5Z"}),(0,s.jsx)("path",{className:"group-hover:-translate-y-px transition group-active:translate-y-0",d:"M14.5004 3.5C14.5004 3.224 14.2764 3.00024 14.0004 3H6.00043C5.72428 3 5.50043 3.22386 5.50043 3.5C5.50043 3.77614 5.72428 4 6.00043 4H14.0004C14.2764 3.99976 14.5004 3.776 14.5004 3.5Z"})]});function x(e){let{size:t=16,variant:a="filled"}=e;return(0,s.jsxs)("svg",{width:t,height:t,viewBox:"4 3 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsxs)("defs",{children:[(0,s.jsxs)("filter",{id:"filter0_d_1_13",x:"0",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[(0,s.jsx)("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),(0,s.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,s.jsx)("feOffset",{dy:"1"}),(0,s.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,s.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,s.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,s.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1_13"}),(0,s.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1_13",result:"shape"})]}),(0,s.jsxs)("linearGradient",{id:"paint0_linear_1_13",x1:"19.8182",y1:"21",x2:"7.27273",y2:"3",gradientUnits:"userSpaceOnUse",children:[(0,s.jsx)("stop",{"stop-opacity":"0"}),(0,s.jsx)("stop",{offset:"1"})]})]}),(0,s.jsxs)("g",{filter:"filled"===a?"url(#filter0_d_1_13)":void 0,children:["filled"===a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("rect",{x:"4",y:"3",width:"24",height:"24",rx:"6",fill:"#3F3F3F","shape-rendering":"crispEdges"}),(0,s.jsx)("rect",{x:"4",y:"3",width:"24",height:"24",rx:"6",fill:"url(#paint0_linear_1_13)","shape-rendering":"crispEdges"}),(0,s.jsx)("rect",{x:"4.25",y:"3.25",width:"23.5",height:"23.5",rx:"5.75",stroke:"black","stroke-opacity":"0.8","stroke-width":"0.5","shape-rendering":"crispEdges"})]}),"outline"===a&&(0,s.jsx)("rect",{x:"4.5",y:"3.5",width:"23",height:"23",rx:"5.5",stroke:"currentColor",strokeWidth:"0.5",fill:"none",shapeRendering:"crispEdges"}),(0,s.jsx)("path",{d:"M16.0201 13.0362L14.9367 10.1072C14.803 9.75942 14.7361 9.39831 14.7361 9.02383C14.7361 8.19461 15.1641 7.78 16.0201 7.78C16.8493 7.78 17.2639 8.18123 17.2639 8.9837C17.2639 9.42506 17.197 9.79955 17.0633 10.1072L16.0201 13.0362ZM14.2948 13.959L11.2052 13.3973C10.8174 13.3304 10.4362 13.1766 10.0617 12.9359C9.68724 12.6951 9.5 12.4009 9.5 12.0531C9.5 11.8525 9.5535 11.6452 9.66049 11.4312C9.76749 11.2039 9.91461 11.0166 10.1019 10.8695C10.2891 10.709 10.4897 10.6288 10.7037 10.6288C11.2119 10.6288 11.7402 10.9498 12.2886 11.5917L14.2948 13.959ZM17.7454 13.959L19.7515 11.5917C19.9789 11.3242 20.233 11.0969 20.5139 10.9096C20.8081 10.7224 21.0756 10.6288 21.3164 10.6288C21.5303 10.6288 21.7243 10.709 21.8981 10.8695C22.0854 11.0166 22.2325 11.2039 22.3395 11.4312C22.4465 11.6452 22.5 11.8525 22.5 12.0531C22.5 12.2805 22.4131 12.4945 22.2392 12.6951C22.0653 12.8824 21.8447 13.0362 21.5772 13.1565C21.323 13.2769 21.0622 13.3572 20.7948 13.3973L17.7454 13.959ZM16.0201 16.4868C15.6055 16.4868 15.251 16.3464 14.9568 16.0655C14.6759 15.7846 14.5355 15.4302 14.5355 15.0022C14.5355 14.5876 14.6759 14.2399 14.9568 13.959C15.251 13.6648 15.6055 13.5177 16.0201 13.5177C16.4347 13.5177 16.7824 13.6648 17.0633 13.959C17.3575 14.2399 17.5046 14.5876 17.5046 15.0022C17.5046 15.4168 17.3575 15.7713 17.0633 16.0655C16.7824 16.3464 16.4347 16.4868 16.0201 16.4868ZM10.6836 19.3757C10.4563 19.3757 10.249 19.3021 10.0617 19.155C9.88786 18.9945 9.74743 18.8006 9.64043 18.5732C9.54681 18.3458 9.5 18.1385 9.5 17.9513C9.5 17.6036 9.68724 17.3093 10.0617 17.0686C10.4362 16.8278 10.8174 16.674 11.2052 16.6072L14.2948 16.0454L12.2886 18.4127C11.7536 19.0547 11.2186 19.3757 10.6836 19.3757ZM21.2963 19.3757C21.0556 19.3757 20.7948 19.2821 20.5139 19.0948C20.233 18.8942 19.9789 18.6668 19.7515 18.4127L17.7454 16.0454L20.7948 16.6072C21.1826 16.674 21.5638 16.8278 21.9383 17.0686C22.3128 17.3093 22.5 17.6036 22.5 17.9513C22.5 18.2589 22.3863 18.5732 22.159 18.8942C21.945 19.2152 21.6574 19.3757 21.2963 19.3757ZM16.0201 22.2244C15.1641 22.2244 14.7361 21.7697 14.7361 20.8602C14.7361 20.6998 14.7562 20.5393 14.7963 20.3788C14.8364 20.2183 14.8832 20.0578 14.9367 19.8973L16.0201 16.9683L17.0633 19.8973C17.1301 20.0712 17.177 20.2517 17.2037 20.439C17.2438 20.6128 17.2639 20.7934 17.2639 20.9806C17.2639 21.8098 16.8493 22.2244 16.0201 22.2244Z",fill:"outline"===a?"currentColor":"#D97757"})]})]})}var h=a(40359),m=a(41417),p=a(29242),f=a(91961),g=a(64786),j=a(27062),v=a(5060),b=a(90119),C=a(99272),y=a(93681),w=a(37463),_=a(27261),N=a.n(_),M=a(7620),A=a(46760),L=a(62971);a(11653);var S=a(81527),k=a(98878),E=a(62942),z=a(45483),P=a(47492),O=a(37076),I=a(67257),D=a(57383),R=a(1524);a(25328);let T=e=>{var t;let{isOpen:a,onClose:i}=e,{account:n,activeOrganization:r}=(0,l.YL)(),d=(0,z.E)(),o=(0,R.u)(),[c]=(0,P.d)(),u=null==n||null==(t=n.settings)?void 0:t.enabled_monkeys_in_a_barrel,x=(0,M.useMemo)(()=>{},[o,null==r?void 0:r.uuid,c,u]);return((0,M.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a&&(e.preventDefault(),i())};return a&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[a,i]),n)?(0,s.jsx)(O.aF,{isOpen:a,onClose:i,modalSize:"xl",backgroundColor:"bg-transparent",className:"!shadow-none border-none !p-0",children:(0,s.jsx)(D._,{willRedirectOnSubmit:!0,onCreate:async e=>(i(),await d(e)),customFileUploadHandler:x,children:(0,s.jsx)(I.V,{placement:"modal"})})}):null},U=e=>{let{openNewChatModal:t}=e,a=(0,E.useRouter)(),s=(0,E.usePathname)(),{value:i}=(0,j.fS)("new_chat_modal"),l=(0,M.useCallback)(()=>{"/new"!==s&&(i?t():a.push("/new"))},[t,a,i,s]);return(0,k.z4)(k.pn.cmdK,l),(0,M.useEffect)(()=>{let e=e=>{var t;let a=(0,f.cX)()?e.metaKey:e.ctrlKey;(null==(t=e.key)?void 0:t.toLowerCase())==="k"&&a&&(e.preventDefault(),l())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),null},F=()=>{let[e,t]=(0,M.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U,{openNewChatModal:()=>t(!0)}),(0,s.jsx)(T,{isOpen:e,onClose:()=>t(!1)})]})};var J=a(80731),K=a(11207),Y=a(9916);a(90238);var W=a(85201),H=a(42977),Z=a(21956),B=a(10158),V=a(80929),G=a(90510),q=a(27271),Q=a(56370),X=a(58911),$=a(62094),ee=a(16054),et=a(60265),ea=a(57622),es=a(37457),ei=a.n(es),el=a(53600);a(74027);var en=a(18483),er=a(55428),ed=a(77316);let eo={type:"language",languageDisplay:"standard"},ec=(0,M.forwardRef)((e,t)=>{let a=(0,A.A)(),{isPending:i,mutateAsync:l}=(0,ed.jC)(),n=a.locale,r=async e=>{e!==n&&(await l({locale:e}),window.location.reload())},d=(0,M.useMemo)(()=>{let e=a.formatters.getDisplayNames(en.Xn,eo),t=new Intl.Collator(en.Xn);return en.SC.map(t=>({locale:t,name:e.of(t),localName:a.formatters.getDisplayNames(t,eo).of(t)})).toSorted((e,a)=>t.compare(e.name,a.name))},[a.formatters]);return(0,s.jsxs)(Q.MS,{children:[(0,s.jsxs)(Q.Wn,{ref:t,className:"text-sm",children:[(0,s.jsx)(L.A,{defaultMessage:"Language",id:"y1Z3orIe9Z"}),(0,s.jsx)($.K,{size:16})]}),(0,s.jsx)(Q.cm,{children:(0,s.jsxs)(Q.FV,{sideOffset:4,children:[d.map(e=>(0,s.jsxs)(Q.tJ,{onSelect:()=>r(e.locale),disabled:i,lang:e.locale,children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:e.localName}),e.locale===n?(0,s.jsx)(et.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e.locale)),(0,er.O0)()&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.DG,{}),Object.keys(en.UW).map(e=>(0,s.jsxs)(Q.tJ,{onSelect:()=>r(e),disabled:i,lang:"en",children:[(0,s.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:en.UW[e].name}),e===n?(0,s.jsx)(et.J,{size:16}):(0,s.jsx)("div",{className:"h-4 w-4"})]},e))]})]})})]})});ec.displayName="LanguagePicker";var eu=a(55554),ex=a(85544);let eh=()=>{let{selectedTier:e,setSelectedTier:t,isTierSelectorEnabled:a,shouldOverrideTokenLimits:i,setShouldOverrideTokenLimits:l,shouldOverrideFeatureAccess:n,setShouldOverrideFeatureAccess:r}=(0,eu.t)();if(!a)return null;let d=[{tier:ex.d7.FREE,label:(0,s.jsx)(L.A,{defaultMessage:"Claude Free",id:"HALZF/VbRH"})},{tier:ex.d7.PRO,label:(0,s.jsx)(L.A,{defaultMessage:"Claude Pro",id:"SIgPaVikdi"})},{tier:ex.d7.ENTERPRISE,label:(0,s.jsx)(L.A,{defaultMessage:"Claude Enterprise",id:"MwY0j6lAfZ"})},{tier:ex.d7.MAX,label:(0,s.jsx)(L.A,{defaultMessage:"Claude Max",id:"PEXDsCWhYl"})}];return(0,s.jsxs)(Q.MS,{children:[(0,s.jsxs)(Q.Wn,{className:"text-sm",children:[(0,s.jsx)(L.A,{defaultMessage:"Override plan tier",id:"M2Y2OeFN2P"}),(0,s.jsx)($.K,{size:16})]}),(0,s.jsx)(Q.cm,{children:(0,s.jsxs)(Q.FV,{sideOffset:4,children:[d.map(a=>(0,s.jsx)(Q.tJ,{onSelect:()=>t(a.tier),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[a.label,e===a.tier&&(0,s.jsx)(et.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})},a.tier)),(0,s.jsx)(Q.DG,{}),(0,s.jsx)(Q.tJ,{onSelect:()=>t(null),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,s.jsx)(L.A,{defaultMessage:"Unset for 30 days",id:"mZ78YiYBvg"}),null===e&&(0,s.jsx)(et.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})}),(0,s.jsx)(Q.DG,{}),(0,s.jsx)(Q.tJ,{onSelect:()=>l(!i),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,s.jsx)(L.A,{defaultMessage:"Apply other token limits",id:"enUY20BInl"}),i&&(0,s.jsx)(et.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})}),(0,s.jsx)(Q.tJ,{onSelect:()=>r(!n),className:"text-sm",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,s.jsx)(L.A,{defaultMessage:"Apply feature access limits",id:"oyFNH6jKBM"}),n&&(0,s.jsx)(et.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})})]})})]})};var em=a(40459);function ep(){let e=(0,H._)(["fixed top-2.5 right-3.5 z-10 flex flex-row items-center gap-2"]);return ep=function(){return e},e}let ef=()=>(0,s.jsx)(X.B,{size:16,className:"ml-2 -mr-2"});function eg(e){let{trigger:t,matchTriggerWidth:a=!0,onOpenChange:n,className:d}=e,o=(0,A.A)(),{track:c}=(0,i.st)(),{account:u}=(0,l.YL)(),x=null==u?void 0:u.memberships.map(e=>e.organization),h=null==x?void 0:x.some(e=>e.capabilities.includes("api")),p=(0,B._r)(),{value:g}=(0,j.fS)("claude_ai_cumin"),v=(0,l.LJ)(),{value:y}=(0,j.fS)("claude_ai_intercom"),w=(0,V.B)(),{value:_}=(0,j.fS)("show_claude_desktop_download_link"),M=(0,b.V)(),S=((0,f.cX)()||(0,f.uF)())&&!M&&_,{closeSidebarOnMobile:k}=(0,el.V)(),z=(0,E.useRouter)(),P=(0,s.jsxs)(m.$,{variant:"unstyled",size:"unset",className:"border-0.5 border-border-300 hover:border-border-200 group relative z-[1] w-full overflow-hidden rounded-lg !px-2.5 !py-2 !text-left","data-testid":"user-menu-button",children:[(0,s.jsx)("div",{className:"from-bg-500/0 to-bg-500/40 absolute inset-0 bg-gradient-to-b opacity-70 transition-opacity group-hover:opacity-100"}),(0,s.jsxs)("div",{className:"relative z-[5] flex w-full items-center gap-1.5",children:[(0,s.jsx)(q.O,{size:"sm"}),(0,s.jsx)("div",{className:"min-w-0 flex-1 truncate ",children:null==u?void 0:u.email_address}),(0,s.jsx)(C.a,{size:12})]})]});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(Q.ms,{matchTriggerWidth:a,align:"end",unstyledTrigger:!0,trigger:t||P,onOpenChange:e=>{null==n||n(e)},className:(0,r.A)("w-72 font-base",d),children:[(0,s.jsx)(ej,{}),(0,s.jsx)(Q.DG,{}),(0,s.jsx)(Q.tJ,{asChild:!0,"data-testid":"user-menu-settings",children:(0,s.jsx)("button",{onClick:()=>{z.push("/settings/profile"),k()},className:"text-left block w-full",children:(0,s.jsx)(L.A,{defaultMessage:"Settings",id:"D3idYvSLF9"})})}),g&&(0,s.jsx)(ec,{}),y&&w&&(0,s.jsx)(Q.tJ,{onSelect:()=>{c({event_key:"claudeai.get_help.clicked"}),w.update({hideDefaultLauncher:!1}),w.show()},className:"intercom-launcher",children:(0,s.jsx)(L.A,{defaultMessage:"Get help",id:"9OuUCLqQgd"})}),(0,s.jsx)(eh,{}),(0,s.jsx)(Q.DG,{}),!em.env.NEXT_PUBLIC_HIDE_UPSELLS&&(0,s.jsx)(Q.tJ,{asChild:!0,children:(0,s.jsx)(N(),{href:"/upgrade",children:v?(0,s.jsx)(L.A,{defaultMessage:"Upgrade plan",id:"c5+JRMBv/Y"}):(0,s.jsx)(L.A,{defaultMessage:"View all plans",id:"hSNxZTzZks"})})}),S&&(0,s.jsx)(Q.tJ,{asChild:!0,className:"pr-0",children:(0,s.jsx)(N(),{href:"https://claude.ai/download",target:"_blank",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,f.cX)()?(0,s.jsx)(L.A,{defaultMessage:"Download Claude for Mac",id:"BobP7MV3sG"}):(0,s.jsx)(L.A,{defaultMessage:"Download Claude for Windows",id:"qZjfHa3uMI"}),(0,s.jsx)(X.B,{size:16})]})})}),(0,s.jsxs)(Q.MS,{children:[(0,s.jsxs)(Q.Wn,{children:[(0,s.jsx)(L.A,{defaultMessage:"Learn more",id:"TdTXXf940t"}),"\xa0",(0,s.jsx)($.K,{size:16})]}),(0,s.jsx)(Q.cm,{children:(0,s.jsxs)(Q.FV,{sideOffset:4,className:"font-base",children:[h&&(0,s.jsx)(Q.tJ,{asChild:!0,children:(0,s.jsx)(N(),{href:p.consoleAbsoluteUrl,target:"_blank",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)(L.A,{defaultMessage:"API Console",id:"CfiNwKIPP1"}),(0,s.jsx)(ef,{})]})})}),(0,s.jsx)(eC,{name:o.formatMessage({defaultMessage:"About Anthropic",id:"Cm+OGj8nZs"}),path:"/"}),(0,s.jsx)(Q.DG,{}),(0,s.jsx)(eC,{name:o.formatMessage({defaultMessage:"Usage policy",id:"2hfc4AKs6b"}),path:"/legal/aup"}),(0,s.jsx)(eC,{name:o.formatMessage({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),path:"/legal/privacy"})]})})]}),(0,s.jsx)(Q.DG,{}),"",(0,s.jsx)(Q.tJ,{asChild:!0,children:(0,s.jsx)(N(),{href:"/logout",children:(0,s.jsx)("span",{className:"flex items-center",children:(0,s.jsx)(L.A,{defaultMessage:"Log out",id:"PlBReUqqzW"})})})})]})})}let ej=()=>{let{account:e}=(0,l.YL)(),t=(0,M.useMemo)(()=>{var t;return null!=(t=null==e?void 0:e.memberships.map(e=>e.organization))?t:[]},[e]),a=(0,M.useMemo)(()=>ei()(t.filter(e=>e.capabilities.includes("chat")),e=>!e.capabilities.includes("raven"),"name"),[t]),i=a.some(e=>e.capabilities.includes("raven"));return(0,s.jsx)(s.Fragment,{children:e&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Q.o_,{className:" pb-2 overflow-ellipsis truncate",children:null==e?void 0:e.email_address}),a.map(e=>(0,s.jsx)(ev,{org:e,hasTeam:i},e.uuid))]})})},ev=e=>{let{org:t,hasTeam:a}=e,i=(0,A.A)(),{switchAndRefresh:n}=(0,Z.nY)(),{activeOrganization:d}=(0,l.YL)(),o=(0,l.zm)(t),c=(0,E.usePathname)(),u=o?"Enterprise":t.capabilities.includes("raven")?"Team":t.capabilities.includes("claude_pro")?"Pro":t.capabilities.includes("claude_max")?"Max":"Free",x=t.uuid===(null==d?void 0:d.uuid),h=t.capabilities.includes("raven")?t.name:i.formatMessage({defaultMessage:"Personal",id:"NDx+B0BTac"}),m=(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:(0,r.A)("flex items-center gap-2 w-full",x?"cursor-default":"cursor-pointer"),children:[(0,s.jsx)(eb,{org:t}),(0,s.jsxs)("div",{className:"flex flex-col overflow-hidden grow",children:[(0,s.jsx)("span",{className:"truncate text-text-100 ",children:h}),(0,s.jsxs)("div",{className:"font-small",children:[(0,s.jsx)("span",{className:"text-text-300",children:(0,s.jsx)(L.A,{defaultMessage:"{plan} plan",id:"oK+PGPHfhv",values:{plan:u}})}),"Free"===u&&x&&a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ee.c,{size:12,className:"inline"}),(0,s.jsx)(N(),{href:"/upgrade",className:"text-text-000 hover font-medium transition-all",children:(0,s.jsx)(L.A,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})]})]}),x&&(0,s.jsx)(et.J,{weight:"bold",className:"flex-shrink-0 text-accent-secondary-100 h-4 w-4"})]})});return x?(0,s.jsx)(Q.q,{children:m}):(0,s.jsx)(Q.tJ,{onSelect:()=>{c.startsWith("/chat/")?n(t.uuid,"/chats"):n(t.uuid)},children:m})},eb=e=>{let{org:t}=e,a=t.capabilities.includes("raven"),i=a?(0,s.jsx)(ea.m,{size:16}):(0,s.jsx)(q.O,{size:"sm",variant:"cardamom"});return(0,s.jsx)("div",{className:(0,r.A)("flex-shrink-0 flex h-7 w-7 items-center justify-center rounded-full bg-bg-400 text-text-300",a&&"rounded-sm"),children:i})},eC=e=>{let{name:t,path:a}=e,{websiteBaseUrl:i}=(0,B._r)();return(0,s.jsx)(Q.tJ,{asChild:!0,children:(0,s.jsx)(N(),{href:"".concat(i).concat(a),target:"_blank",children:(0,s.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,s.jsx)("span",{children:t}),(0,s.jsx)(ef,{})]})})})};G.J.div(ep());var ey=a(7726);a(51121);var ew=a(29638),e_=a(78108),eN=a(50582),eM=a(37058),eA=a(50707);function eL(e){let{type:t,href:a,target:i,CustomIcon:l,onClick:n=()=>void 0,children:d,tooltipContent:o,isExpanded:c,uuid:u,size:x="default",conversation:h,className:f,isActive:g,disabled:j,showUpgradeTag:v}=e,b=(0,A.A)(),C=(0,E.usePathname)(),y=void 0!==g?g(C):C===a&&"more"!==t&&"promo"!==t,[w,_]=(0,M.useState)(!1),{closeSidebarOnMobile:N,isMobile:L}=(0,el.V)(),{data:k}=(0,S.fo)("project"===t?u:void 0);return(0,s.jsx)(p.m,{delayDuration:0,disableHoverableContent:!0,tooltipContent:!c&&!L&&o,side:"right",children:(0,s.jsxs)("div",{className:"relative group",children:[(0,s.jsxs)(m.$,{"aria-label":o,href:a,target:i,onLinkClick:e=>{n(e),N()},variant:"ghost",size:x,disabled:j&&!v,className:(0,r.A)(y&&"!bg-bg-400","promo"===t?"w-full overflow-hidden !min-w-0 group px-4 hover:!bg-transparent active:!bg-transparent":"w-full hover:bg-bg-300 overflow-hidden !min-w-0 group active:bg-bg-400 active:scale-[0.99] px-4",f),children:[(0,s.jsxs)("div",{className:"-translate-x-2 w-full flex flex-row items-center justify-start gap-3",children:[l&&(0,s.jsx)("div",{className:(0,r.A)("size-4 flex items-center justify-center",j&&v?"text-text-400/40 group-hover:!text-text-200/40":"group-hover:!text-text-200 text-text-400"),children:l}),"more"===t&&(0,s.jsx)(e_.t,{size:18,className:"shrink-0 "}),(0,s.jsx)("span",{className:(0,r.A)("truncate text-sm whitespace-nowrap w-full",u&&"group-hover:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] group-focus-within:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] [mask-size:100%_100%]",(w||y)&&"[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)]",j&&v&&"text-text-000/40"),children:d})]}),v&&c&&(0,s.jsx)(eA.M,{className:"absolute right-2 top-1/2 -translate-y-1/2"})]}),(y||w||!L)&&(0,s.jsx)("div",{className:(0,r.A)("absolute right-0 top-1/2 -translate-y-1/2",w||y?"block":"hidden group-hover:block group-focus-within:block"),children:u?"chat"===t&&h?(0,s.jsx)(eN.p,{conversation:h,initialName:h.name,open:w,onOpenChange:_,trigger:(0,s.jsx)(m.$,{variant:"ghost",className:"active:!scale-100 aria-expanded:!bg-bg-400",size:"icon_sm",onClick:e=>{e.stopPropagation(),e.preventDefault()},"aria-label":h.name?b.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:h.name}):b.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,s.jsx)(ew.H,{weight:"bold",size:20})})}):"project"===t?k?(0,s.jsx)(eM.U,{project:k,iconSize:20,buttonSize:"icon_sm",open:w,onOpenChange:_}):null:void 0:null})]})})}a(85644),a(77186);var eS=a(32998),ek=a(36208),eE=a(61773),ez=a(34116),eP=a(68096),eO=a(38360);let eI=(0,M.forwardRef)((e,t)=>{let{trigger:a,children:i,disableTrigger:l=!1,side:d="bottom",align:o="center",alignOffset:c,sideOffset:u,closeButton:x="none",className:h,triggerClassName:m,onCloseButtonClick:p}=e,[f,g]=(0,M.useState)(!1);return(0,M.useImperativeHandle)(t,()=>({open:()=>g(!0),close:()=>g(!1)})),(0,s.jsxs)(eO.bL,{open:f,onOpenChange:l?void 0:e=>{g(e)},children:[(0,s.jsx)(eO.l9,{asChild:!0,className:m,children:"function"==typeof a?a(f):a}),(0,s.jsx)(eO.ZL,{children:(0,s.jsxs)(eO.UC,{side:d,align:o,alignOffset:c,sideOffset:u,collisionPadding:16,className:(0,r.A)("bg-bg-000 p-2 shadow-[0px_0px_32px_0px_hsl(var(--accent-main-900)/12%)] rounded-xl max-w-[16rem] relative outline-none z-tooltip",h),children:["none"!==x&&(0,s.jsx)(eO.bm,{onClick:p,className:(0,r.A)({"absolute top-2 right-2 translate-x-1 -translate-y-1 bg-bg-000 p-1 rounded-md":"absolute"===x,"float-right":"wrap"===x}),children:(0,s.jsx)(n.X,{size:16,className:"opacity-80 hover:opacity-100 transition-opacity duration-200"})}),i,(0,s.jsx)(eO.i3,{className:"fill-bg-000 drop-shadow-lg",height:8,width:16})]})})]})});eI.displayName="Popover";var eD=a(84334),eR=a(45476);let eT=(0,M.forwardRef)((e,t)=>{let{popoverKey:a,autoShowOnMount:n=!0,children:r,closeTrackEvent:d,...o}=e,{account:c}=(0,l.YL)(),{mutate:u}=(0,eP.Jy)(),x=(0,E.useSearchParams)(),{data:h,isLoading:m}=(0,eR.g)(),{track:p}=(0,i.st)(),f=(0,M.useRef)(null),g="marketing-popover-".concat(a),j=(()=>{var e;return!!(!c||(0,eD.S_)(c.email_address))||"true"!==x.get("debug_".concat(a))&&((null==(e=c.settings)?void 0:e.dismissed_claudeai_banners)||[]).some(e=>e.banner_id===g)})(),v=()=>{var e;(null==c?void 0:c.settings)&&u({...c.settings,dismissed_claudeai_banners:[...c.settings.dismissed_claudeai_banners||[],{banner_id:g,dismissed_at:new Date().toISOString()}]}),d&&p(d),null==(e=f.current)||e.close()},b=()=>{if(!j){var e;null==(e=f.current)||e.open()}};return(0,M.useImperativeHandle)(t,()=>({close:v,openIfNotSeen:b})),(0,M.useEffect)(()=>{!m&&(!n||(null==h?void 0:h.spotlight)||b())},[m]),(0,s.jsx)(eI,{ref:f,disableTrigger:!0,onCloseButtonClick:v,...o,children:r})});eT.displayName="MarketingPopover";var eU=a(60980),eF=a(76761),eJ=a(21036);let eK=(0,M.forwardRef)((e,t)=>{let{isExpanded:a,setIsHidden:l}=e,{track:n}=(0,i.st)(),r=(0,M.useMemo)(()=>({win_four_months_max:(0,s.jsx)(L.A,{defaultMessage:"Win 4 months of Max",id:"sTHRUu15q1"}),get_four_months_max_free:(0,s.jsx)(L.A,{defaultMessage:"Get 4 months of Max free",id:"erNk86QqJj"}),get_four_months_claude:(0,s.jsx)(L.A,{defaultMessage:"Get 4 months of Claude 4",id:"CKVjmAKCts"})}),[]),d=(0,eJ.useExperiment)("invite_contest_sidebar_text").get("text_variant","win_four_months_max"),o=(0,M.useCallback)(()=>{n({event_key:"claudeai.invite_contest.clicked",experiment_variant:d})},[n,d]),c=(0,M.useCallback)(e=>{e.stopPropagation(),localStorage.setItem("hideInviteContestLink","true"),l(!0),n({event_key:"claudeai.invite_contest.dismissed",experiment_variant:d})},[n,d,l]),u=r[d];return(0,s.jsxs)("div",{ref:t,className:"relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 border border-accent-secondary-200/20 group-hover:border-accent-secondary-200/40 rounded-lg pointer-events-none z-0 transition-colors duration-200"}),(0,s.jsx)(eL,{CustomIcon:(0,s.jsx)(eU.p,{size:18,className:"text-accent-secondary-100 group-hover:text-accent-secondary-200 transition-colors duration-200"}),href:"/invite",type:"promo",isExpanded:a,onClick:o,children:(0,s.jsx)("span",{className:"font-normal text-sm text-accent-secondary-100 group-hover:text-accent-secondary-000 transition-colors duration-200 pl-1.5 flex-1",children:u})}),a&&(0,s.jsx)("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 text-text-300 hover:text-text-000 transition-opacity duration-200 p-1 z-20",children:(0,s.jsx)(eF.X,{size:16})})]})});function eY(e){var t;let{isExpanded:a}=e,{value:i}=(0,j.fS)("claude_ai_invite_contest"),l=(0,M.useRef)(null),{isMobile:n}=(0,el.V)(),{ipCountry:r}=(0,B._r)(),{fiveXPricing:d,fetchAllPricing:o}=(0,ez.Le)({perBillingPeriod:!0}),[c,u]=(0,M.useState)(()=>"true"===localStorage.getItem("hideInviteContestLink"));if((0,M.useEffect)(()=>{r&&i&&!c&&o({address:{country:r}})},[r,i,c,o]),(0,M.useEffect)(()=>{let e=()=>{var e;null==(e=l.current)||e.openIfNotSeen()};return window.addEventListener("firstClaudeMessage",e),()=>{window.removeEventListener("firstClaudeMessage",e)}},[]),!i||c)return null;let x=(null==d||null==(t=d.price)?void 0:t.basePrice)?4*d.price.basePrice:null,h=x&&(null==d?void 0:d.currency)?(0,ek.vv)(x,d.currency,{preferWholeNumber:!0}):"$400",p=n?(0,s.jsx)(eK,{isExpanded:a,setIsHidden:u}):(0,s.jsxs)(eT,{popoverKey:"invite-contest",ref:l,autoShowOnMount:!1,trigger:(0,s.jsx)(eK,{isExpanded:a,setIsHidden:u}),side:"right",sideOffset:16,align:"end",alignOffset:-16,closeButton:"absolute",children:[(0,s.jsx)("div",{className:"py-4 mb-2 rounded-md bg-[#CBCADB] flex justify-center items-center",children:(0,s.jsx)(eE.default,{src:"/images/giftbox-white.svg",alt:"Gift Box",width:120,height:120})}),(0,s.jsxs)("div",{className:"px-1.5 py-1.5",children:[(0,s.jsx)("h2",{className:"text-sm font-medium text-text-100 mb-1.5",children:(0,s.jsx)(L.A,{defaultMessage:"Win 4 months of Claude 4",id:"11xRu8cUR8"})}),(0,s.jsx)("p",{className:"text-sm text-text-100 mb-3",children:(0,s.jsx)(L.A,{defaultMessage:"Share your invite link to win a chance at 4 months of Max plan ({value} in value)!",id:"iJDgr6HMht",values:{value:h}})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(m.$,{href:"/invite",className:"inline-block ",children:(0,s.jsx)(L.A,{defaultMessage:"Share link",id:"GQNYobJbtO"})})})]})]});return(0,s.jsx)(w.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,ease:"easeOut"},className:a?"px-2 py-2":"px-2 pb-2",children:p})}eK.displayName="InviteContestNavItem";var eW=a(49645);function eH(e){let{offset:t,className:a,isExpanded:l}=e,{track:n}=(0,i.st)(),[d,o]=(0,M.useState)(!1),{data:c,isLoading:u}=(0,ey.EV)({limit:ey.sk,starred:!1}),{data:x}=(0,ey.Fn)();if((0,M.useEffect)(()=>{!u&&(null==c?void 0:c.length)&&o(!0)},[u,c]),!u&&(null==c?void 0:c.length))return(0,s.jsxs)("div",{className:"flex flex-col ",children:[(0,s.jsx)("h3",{className:(0,r.A)("text-text-300 pb-2 mt-1 text-xs select-none",t,a),"aria-hidden":!l,children:(0,s.jsx)(L.A,{defaultMessage:"Recents",id:"wA4FIMmtlS"})}),(0,s.jsx)("ul",{className:"flex flex-col gap-px",children:(0,s.jsx)(eW.N,{children:c.map(e=>(0,s.jsx)(w.P.li,{initial:{opacity:0,height:d?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eL,{href:"/chat/".concat(e.uuid),type:"chat",uuid:e.uuid,size:"sm",isExpanded:l,onClick:()=>{n({event_key:"claudeai.conversation.recent.opened",conversation_uuid:e.uuid})},conversation:e,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(L.A,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))})}),x&&x.count>=ey.sk&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eL,{size:"sm",type:"more",href:"/recents",isExpanded:l,children:(0,s.jsx)(L.A,{defaultMessage:"All chats",id:"Ug9lgdRJy3"})}),(0,s.jsx)("div",{className:"bg-gradient-to-t from-bg-200 to-transparent sticky h-4 bottom-0 left-0 right-0"})]})]})}function eZ(e){let{offset:t,className:a,isExpanded:i}=e,[l,n]=(0,M.useState)(!1),d=(0,J.K)(),{data:o,isLoading:c}=(0,S.CB)({enabled:!0,starred:!0,limit:S.sC}),{data:x,isLoading:h}=(0,ey.EV)({starred:!0,limit:ey.sk}),m=d&&c||h;if((0,M.useEffect)(()=>{m||n(!0)},[m]),m)return;let p=null!=x?x:[],f=null!=o?o:[];return(null==f?void 0:f.length)||(null==p?void 0:p.length)?(0,s.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,s.jsx)("h3",{className:(0,r.A)("text-text-300 flex items-center gap-1.5 text-xs pb-2 select-none",t,a),"aria-hidden":!i,children:(0,s.jsx)(L.A,{defaultMessage:"Starred",id:"V7cUPvWFo3"})}),(0,s.jsx)("ul",{className:"-mx-1.5 flex flex-1 flex-col px-1.5 gap-px",children:(0,s.jsxs)(eW.N,{children:[f.map(e=>(0,s.jsx)(w.P.li,{initial:{opacity:0,height:l?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eL,{type:"project",href:"/project/".concat(e.uuid),uuid:e.uuid,size:"sm",CustomIcon:(0,s.jsx)(u,{size:16}),isExpanded:i,children:e.name})},e.uuid)),p.map(e=>(0,s.jsx)(w.P.li,{initial:{opacity:0,height:l?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,s.jsx)(eL,{type:"chat",href:"/chat/".concat(e.uuid),uuid:e.uuid,size:"sm",conversation:e,isExpanded:i,children:e.name?e.name:(0,s.jsx)("span",{className:"opacity-60",children:(0,s.jsx)(L.A,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})})},e.uuid))]})})]}):null}var eB=a(40459);let eV="18rem",eG=49;function eq(){let{account:e,activeOrganization:t}=(0,l.YL)(),a=(0,A.A)(),{track:d}=(0,i.st)(),p=(0,J.K)(),{data:f}=(0,S.PL)(),_=(0,W.Ob)(),k=(0,l.h0)(),[E,z]=(0,M.useState)(!1),{isExpanded:P,setIsExpanded:O,closeSidebarOnMobile:I,isMobile:D}=(0,el.V)(),R=(0,b.V)(g.E_),T=(0,M.useRef)(null),{mode:U}=(0,eS.M)(),{value:H}=(0,j.fS)("claudeai_beam"),Z=D||R?"0":"3.05rem",B=(0,r.A)(P?"":"opacity-0 -translate-x-0.5","transition-all duration-200"),V=(0,M.useMemo)(()=>({collapsed:{width:Z,transition:{type:"spring",stiffness:950,damping:52,mass:1}},expanded:{width:eV,transition:{type:"spring",stiffness:900,damping:52,mass:1}}}),[Z]),G=null==t?void 0:t.capabilities.includes("raven"),q=null==t?void 0:t.capabilities.includes("claude_pro"),Q=null==t?void 0:t.capabilities.includes("claude_max"),X=(0,Y.U4)(),$=(0,K.V)(),ee=function(){let{value:e}=(0,j.fS)("curse_you_perry_the_platypus");return!1}();(0,v.W)("focusin",e=>{var t;let a=e.target;a&&a instanceof Element&&((null==(t=T.current)?void 0:t.contains(a))||I())},{enabled:P&&D});let et=(0,s.jsx)(m.$,{variant:"ghost",className:(0,r.A)("flex !justify-start !min-w-0 py-5 !px-0.5  w-full",!P&&"hover:!bg-transparent active:!bg-transparent"),"data-testid":"user-menu-button",children:(0,s.jsxs)("div",{className:"flex flex-row flex-grow items-center gap-3 pointer-cursor w-full",children:[t&&(0,s.jsx)(eb,{org:t}),(0,s.jsxs)("div",{className:(0,r.A)(B,"flex w-full text-sm justify-between items-center font-medium min-w-0"),children:[(0,s.jsxs)("div",{className:"flex flex-col items-start w-full max-w-full overflow-hidden pr-4",children:[(0,s.jsx)("span",{className:"w-full max-w-full overflow-hidden text-start block truncate",children:null==e?void 0:e.full_name}),(0,s.jsx)("span",{className:"w-full truncate text-xs text-text-300 font-normal text-start",children:G?null==t?void 0:t.name:q?(0,s.jsx)(L.A,{defaultMessage:"Pro plan",id:"P0xe8AvKVP"}):Q?(0,s.jsx)(L.A,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"}):(0,s.jsx)(L.A,{defaultMessage:"Free plan",id:"B+7815cfpz"})})]}),(0,s.jsx)(C.a,{className:"flex-shrink-0 mr-2",size:14})]})]})});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(F,{}),(0,s.jsx)(w.P.div,{animate:P?"expanded":"collapsed",style:{width:P?eV:Z},className:"fixed z-sidebar lg:sticky",children:(0,s.jsxs)(w.P.nav,{ref:T,variants:V,initial:!1,animate:P?"expanded":"collapsed",className:(0,r.A)("h-screen flex flex-col gap-3 pb-2 px-0 fixed top-0 left-0 transition duration-100 border-border-300 border-r-0.5",P&&"shadow-lg !bg-bg-200 lg:shadow-[inset_-4px_0px_6px_-4px_hsl(var(--always-black)/4%)]",E&&"!bg-bg-200"),"aria-label":a.formatMessage({defaultMessage:"Sidebar",id:"JZy6joR+Wk"}),children:[(0,s.jsxs)("div",{className:(0,r.A)("flex w-full items-center gap-px p-2",R&&"pl-[90px] pt-3 draggable min-w-fit"),children:[(0,s.jsx)(m.$,{variant:"ghost",size:"icon_sm",onClick:()=>O(!P),className:(0,r.A)("group",P&&!R&&"aria-expanded:bg-transparent aria-expanded:hover:bg-bg-300"),"data-testid":"pin-sidebar-toggle","aria-label":a.formatMessage({defaultMessage:"Sidebar",id:"JZy6joR+Wk"}),"aria-expanded":P,"aria-haspopup":"menu",children:(0,s.jsxs)("div",{className:"relative *:duration-300 w-4 h-4",children:[(0,s.jsx)(n.Bx2,{className:(0,r.A)(!R&&[D&&P&&"!opacity-0 scale-80",E&&!D?"opacity-0 scale-80":"opacity-100 scale-100","group-hover:opacity-0"],"group-hover:scale-80 transition-all text-text-300"),size:16}),!R&&(P?(0,s.jsx)(n.hOY,{className:(0,r.A)(D&&P&&"!opacity-100 !scale-100",E?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:16}):(0,s.jsx)(n.L6D,{className:(0,r.A)(E&&!D?"opacity-100 scale-100":"opacity-0 scale-50","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200"),size:16}))]})}),!R&&P&&(0,s.jsx)(N(),{href:"pancake"===U?"/tiny-pancakes/list":"/new",className:"flex flex-col justify-start items-top","aria-label":a.formatMessage({defaultMessage:"Home",id:"ejEGdxSUGs"}),children:(0,s.jsx)(h.g,{className:"ml-[3px] h-4 flex-shrink-0 text-text-100"})})]}),(0,s.jsxs)("div",{className:(0,r.A)("flex flex-col align-center h-full overflow-hidden",D&&B,!P&&D&&"pointer-events-none"),"aria-hidden":!P&&D,inert:!P&&D,children:[(0,s.jsxs)("div",{className:"flex flex-col px-2 pt-1 gap-px mb-6",children:[(0,s.jsx)("div",{className:"mb-1",children:(0,s.jsx)(eQ,{hideOnCollapse:B,isExpanded:P,closeSidebarOnMobile:I,isMobile:D,mode:U,hasTinyPancakesEnabled:X})}),(0,s.jsx)(eL,{CustomIcon:(0,s.jsx)(c,{size:16}),href:"/recents",tooltipContent:a.formatMessage({defaultMessage:"Chats",id:"ABAQyoD6zr"}),isExpanded:P,children:(0,s.jsx)("div",{className:B,children:(0,s.jsx)(L.A,{defaultMessage:"Chats",id:"ABAQyoD6zr"})})}),(p||_)&&(0,s.jsx)(eL,{CustomIcon:(0,s.jsx)(u,{size:16}),href:p?(null==f?void 0:f.count)===0?"/projects/create":"/projects":"/upgrade",tooltipContent:a.formatMessage({defaultMessage:"Projects",id:"UxTJRaKagI"}),isExpanded:P,disabled:!p&&_,showUpgradeTag:!p&&_&&!k,children:(0,s.jsx)("div",{className:B,children:(0,s.jsx)(L.A,{defaultMessage:"Projects",id:"UxTJRaKagI"})})}),"",$?(0,s.jsx)("div",{children:(0,s.jsx)(eL,{CustomIcon:(0,s.jsx)(o,{size:16}),href:"/artifacts",tooltipContent:a.formatMessage({defaultMessage:"Artifacts",id:"eW5eoWkxy3"}),isExpanded:P,onClick:()=>{d({event_key:"artifact.popover.artifacts_tab_clicked"})},isActive:e=>e.startsWith("/artifacts"),children:(0,s.jsxs)("div",{className:(0,r.A)(B,"flex items-center gap-2"),children:[(0,s.jsx)(L.A,{defaultMessage:"Artifacts",id:"eW5eoWkxy3"}),!1]})})}):null,ee&&(0,s.jsx)("div",{className:"mt-5",children:(0,s.jsx)(eL,{CustomIcon:(0,s.jsx)(x,{size:24,variant:P?"filled":"outline"}),href:"/code/remote",target:"_blank",tooltipContent:a.formatMessage({defaultMessage:"Code",id:"h2vipunVVd"}),isExpanded:P,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:(0,s.jsx)(L.A,{defaultMessage:"Code",id:"h2vipunVVd"})}),(0,s.jsx)(y.Q,{className:(0,r.A)(B,"absolute block -right-4 top-1/2 -translate-y-1/2"),size:16})]})})})]}),(0,s.jsxs)("div",{className:(0,r.A)(B,"flex flex-grow flex-col overflow-y-auto overflow-x-hidden relative px-2 mb-2"),"aria-hidden":!P,inert:!P,children:[(0,s.jsx)(eZ,{offset:"pl-2",className:(0,r.A)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!P&&"pointer-events-none"),isExpanded:P}),null,(0,s.jsx)(eH,{offset:"pl-2",className:(0,r.A)("sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!P&&"pointer-events-none"),isExpanded:P}),(0,s.jsx)("div",{className:(0,r.A)("h-full w-full cursor-pointer absolute top-0 z-sidebar",P&&"hidden"),onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),onClick:()=>!D&&O(!P)})]}),!eB.env.NEXT_PUBLIC_HIDE_UPSELLS&&(0,s.jsx)(eY,{isExpanded:P}),(0,s.jsx)("div",{className:"px-2 pb-1",children:(0,s.jsx)(eg,{trigger:et,matchTriggerWidth:!1,className:"w-[17rem] mx-2"})})]})]})}),P&&D&&(0,s.jsx)("div",{className:"fixed bg-transparent z-sidebar top-0 bottom-0 right-0",style:{left:eV},onClick:I})]})}function eQ(e){let{isExpanded:t,hideOnCollapse:a,closeSidebarOnMobile:i,isMobile:l,mode:d,hasTinyPancakesEnabled:o}=e,c=(0,A.A)(),u=(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{children:(0,s.jsx)(L.A,{defaultMessage:"New chat",id:"ATDyLPIoxz"})}),(0,s.jsx)("span",{className:"text-xs opacity-80",children:(0,f.cX)()?(0,s.jsx)(L.A,{defaultMessage:"⌘K",id:"cpOWpzUZLg"}):(0,s.jsx)(L.A,{defaultMessage:"Ctrl+K",id:"ps5nD4m+km"})})]});return(0,s.jsx)(p.m,{delayDuration:0,side:"right",tooltipContent:!t&&!l&&u,disableHoverableContent:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(m.$,{"aria-label":c.formatMessage({id:"ATDyLPIoxz",defaultMessage:"New chat"}),role:"link",variant:"unstyled",href:"pancake"===d&&o?"/tiny-pancakes/list":"/new",onLinkClick:i,className:(0,r.A)("group transition ease-in-out active:!scale-100 hover:bg-transparent flex !justify-start !min-w-0 w-full",t&&"hover:!bg-accent-main-000/[0.08] active:!bg-accent-brand/15"),children:(0,s.jsxs)("div",{className:"-mx-3 flex flex-row items-center gap-2",children:[(0,s.jsx)("div",{className:"w-6 h-6 flex items-center justify-center group-active:!scale-[0.98] group-active:!shadow-none group-active:bg-accent-main-200 group-hover:-rotate-2 group-hover:scale-105 group-active:rotate-3 rounded-full transition-all ease-in-out bg-accent-main-000 group-hover:shadow-md",children:(0,s.jsx)(n.pL9,{size:12,className:"group-hover:scale-105 transition text-always-white"})}),(0,s.jsx)("div",{className:(0,r.A)(a,"text-accent-main-100 font-medium text-sm tracking-tight"),children:(0,s.jsx)(L.A,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]})})})})}},5060:(e,t,a)=>{a.d(t,{W:()=>i});var s=a(7620);function i(e,t,a){let i=(0,s.useRef)(null),l=(0,s.useRef)(t);return l.current=t,(0,s.useEffect)(()=>{if((null==a?void 0:a.enabled)===!1)return;let t=(null==a?void 0:a.element)||i.current||document,s=e=>{l.current(e)};return t.addEventListener(e,s,!0),()=>{t.removeEventListener(e,s,!0)}},[e,null==a?void 0:a.element,null==a?void 0:a.enabled]),i}},11207:(e,t,a)=>{a.d(t,{V:()=>d,z:()=>o});var s=a(55428),i=a(27062),l=a(21036),n=a(7620),r=a(75006);function d(){let{client:e}=(0,l.useStatsigClient)();return!!(0,s.O0)()||e.getExperiment("artifacts_gallery").get("enabled",!1)}function o(){let e=(0,i.T9)("gallery_artifacts_config","original_to_localized_artifact_ids",(0,n.useMemo)(()=>({}),[]),r.z.record(r.z.string()));return 0===Object.keys(e).length?null:{original_to_localized_artifact_ids:e}}},22336:(e,t,a)=>{a.d(t,{AH:()=>j,EC:()=>p,M7:()=>g,SN:()=>x,_2:()=>m,b5:()=>f,eH:()=>b,gY:()=>v,lT:()=>u,rC:()=>o,yE:()=>h,yx:()=>c});var s=a(77186),i=a(1761),l=a(71473),n=a(87606),r=a(7620);let d="artifact_view_cache",o=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid,n=new URLSearchParams;e&&"includeDeletedArtifacts"in e&&n.append("include_deleted_artifacts",String(e.includeDeletedArtifacts));let d=(0,s.Sk)("/api/organizations/".concat(a,"/published_artifacts?").concat(n.toString()),{staleTime:0,queryKey:[l.kg,{orgUuid:a}],enabled:!!a}),o=(0,r.useMemo)(()=>{var e;return null==(e=d.data)?void 0:e.reduce((e,t)=>(e[t.message_uuid]||(e[t.message_uuid]=[]),e[t.message_uuid].push(t),e),{})},[d.data]);return{...d,publishedArtifactsByMessageUuid:o}},c=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,a=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(t,"/publish_artifact"),"POST",{onSuccess:()=>{a.invalidateQueries({queryKey:[l.kg,{orgUuid:t}]})}})},u=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid,r=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/published_artifacts/").concat(e),"DELETE",{onSuccess:()=>{r.invalidateQueries({queryKey:[l.kg,{orgUuid:a}]})},enabled:!!e})},x=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid;return(0,s.Sk)("/api/organizations/".concat(t,"/artifact_feedback_eligibility"),{queryKey:[l.Pr],enabled:!!t,meta:{noToast:!0}})},h=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid,r=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/artifact-versions/").concat(e,"/visibility"),"POST",{onSuccess:()=>{r.invalidateQueries({queryKey:[l.F$,{artifactVersionUuid:e,orgUuid:a}]})}})},m=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid,r=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/artifacts/").concat(e,"/byindex"),"POST",{onSuccess:e=>{r.invalidateQueries({queryKey:[l.F$,{artifactVersionUuid:e.artifactVersionUUID,orgUuid:a}]})}})},p=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid;return(0,s.Sk)("/api/organizations/".concat(a,"/artifact-versions/").concat(e,"/visibility"),{queryKey:[l.F$,{artifactVersionUuid:e,orgUuid:a}],enabled:!!e,meta:{noToast:!0}})},f=(e,t)=>{let a=(0,s.L2)("/api/published_artifacts/".concat(e,"/record_view"),"POST",{onSuccess:a=>{"view successfully recorded"===a.status&&function(e,t){if(!t)return;let a="".concat(t,"_").concat(e);try{let e=localStorage.getItem(d)||"{}",t=JSON.parse(e),s=t[a];if(s&&Date.now()-s<36e5)return;(t=function(e){let t=Date.now(),a={};for(let[s,i]of Object.entries(e))t-i<=36e5&&(a[s]=i);return a}(t))[a]=Date.now(),localStorage.setItem(d,JSON.stringify(t))}catch(e){}}(e,t)},meta:{noToast:!0}});return{...a,mutate:s=>{!function(e,t){if(!t)return!1;let a="".concat(t,"_").concat(e);try{let e=localStorage.getItem(d);if(!e)return!1;let t=JSON.parse(e),s=t[a];if(!s)return!1;if(Date.now()-s>36e5)return delete t[a],localStorage.setItem(d,JSON.stringify(t)),!1;return!0}catch(e){return!1}}(e,t)&&a.mutate(s||{})}}},g=e=>{let t=new URLSearchParams;e.forEach(e=>{t.append("artifact_uuids",e)});let a="/api/published_artifacts/view_counts?".concat(t.toString());return(0,s.Sk)(a,{queryKey:[l.g_,e],meta:{noToast:!0},enabled:e.length>0})},j=()=>{let{activeOrganization:e}=(0,i.YL)(),t=null==e?void 0:e.uuid,a=(0,s.L2)(e=>"/api/organizations/".concat(t,"/published_artifacts/").concat(e.published_artifact_uuid,"/snapshot"),"POST",{meta:{noToast:!0}}),l=async e=>{if(!(e.domSnapshot.length>5242880))return a.mutateAsync({dom_snapshot:e.domSnapshot,published_artifact_uuid:e.publishedArtifactUuid,viewport_width:e.viewportWidth,viewport_height:e.viewportHeight})};return{...a,mutateAsync:l}},v=e=>(0,s.Sk)("/api/published_artifacts/".concat(e,"/embed_whitelist"),{queryKey:[l.hn,e],meta:{noToast:!0},enabled:!!e}),b=e=>{let{activeOrganization:t}=(0,i.YL)(),a=null==t?void 0:t.uuid,r=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(a,"/published_artifacts/").concat(e,"/embed_whitelist"),"PUT",{enabled:!!e&&!!a,meta:{noToast:!0},onSuccess:()=>{r.invalidateQueries({queryKey:[l.hn,{publishedArtifactUuid:e}]})}})}},25328:(e,t,a)=>{a(23661)},27271:(e,t,a)=>{a.d(t,{O:()=>r});var s=a(54568),i=a(1761),l=a(93877);let n=e=>{var t,a,i;let{account:n,size:r,variant:d}=e,o=null!=(i=null!=(a=null!=(t=null==n?void 0:n.full_name)?t:null==n?void 0:n.display_name)?a:null==n?void 0:n.email_address)?i:"";return(0,s.jsx)(l.e,{name:o,size:r,variant:d})},r=e=>{let{size:t,variant:a}=e,{account:l}=(0,i.YL)(),r=(0,i.O9)(),d=(0,i.zc)();return(0,s.jsx)(n,{account:l||null,size:t,variant:null!=a?a:r||d?"pro":"default"})}},32998:(e,t,a)=>{a.d(t,{M:()=>n});var s=a(7620);let i="claudeai-mode-preference",l="modePreferenceChanged";function n(){let[e,t]=(0,s.useState)(()=>{try{let e=localStorage.getItem(i);return"chat"===e||"pancake"===e?e:null}catch(e){return null}});return(0,s.useEffect)(()=>{let e=e=>t(e.detail);return window.addEventListener(l,e),()=>window.removeEventListener(l,e)},[]),{mode:e,setMode:e=>{localStorage.setItem(i,e),t(e),window.dispatchEvent(new CustomEvent(l,{detail:e}))}}}},45476:(e,t,a)=>{a.d(t,{g:()=>r,x:()=>d});var s=a(77186),i=a(1761),l=a(71473),n=a(87606);let r=()=>{let{account:e,activeOrganization:t}=(0,i.YL)();return(0,s.Sk)("/api/organizations/".concat(null==t?void 0:t.uuid,"/spotlight"),{enabled:!!e,queryKey:[l.vi,null==e?void 0:e.uuid,null==t?void 0:t.uuid]})},d=()=>{let{account:e,activeOrganization:t}=(0,i.YL)(),a=(0,n.useQueryClient)();return(0,s.L2)("/api/organizations/".concat(null==t?void 0:t.uuid,"/spotlight/action"),"POST",{enabled:!!e,onSuccess:()=>{a.invalidateQueries({queryKey:[l.vi,null==e?void 0:e.uuid,null==t?void 0:t.uuid]})}})}},50582:(e,t,a)=>{a.d(t,{p:()=>w});var s=a(54568),i=a(7726),l=a(98518),n=a(56370),r=a(21036),d=a(7620),o=a(62971),c=a(80731),u=a(9537),x=a(41417),h=a(37076),m=a(75032),p=a(62942),f=a(46760),g=a(81527);let j=e=>{var t,a;let{conversationUUID:l,currentProjectUUID:r,isOpen:c,onClose:j}=e,v=(0,f.A)(),b=(0,p.useRouter)(),[C,y]=(0,d.useState)("new"),[w,_]=(0,d.useState)(""),[N,M]=(0,d.useState)(""),[A,L]=(0,d.useState)(null),{data:S,isLoading:k}=(0,g.CB)({enabled:c,limit:g.sC}),{mutateAsync:E,isPending:z}=(0,g.bL)(),{mutate:P,isPending:O}=(0,i.uC)(l),I=async()=>{if("new"===C)try{let e=await E({name:w,description:N,is_private:!0});P({project_uuid:e.uuid}),j(),b.push("/project/".concat(e.uuid))}catch(e){}else A&&A!==r&&(P({project_uuid:A}),j(),b.push("/project/".concat(A)))},D=z||O,R="new"===C?w.trim().length>0&&N.trim().length>0:null!==A&&A!==r;return(0,s.jsxs)(h.aF,{title:"new"===C?(0,s.jsx)(o.A,{defaultMessage:"Move chat to a new project",id:"rGmhP3Yj20"}):(0,s.jsx)(o.A,{defaultMessage:"Move chat to an existing project",id:"SyX7dPJU5l"}),subtitle:(0,s.jsx)(o.A,{defaultMessage:"A project will allow you to find related chats more easily and will group thematic memories.",id:"L8tAlly/Gh"}),isOpen:c,onClose:j,modalSize:"lg",hasCloseButton:!1,children:[(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)(u.Iz,{initialKey:C,onSelect:e=>y(e),options:[{key:"new",label:(0,s.jsx)(o.A,{defaultMessage:"New project",id:"lJMkinm1YS"})},{key:"existing",label:(0,s.jsx)(o.A,{defaultMessage:"Existing project",id:"n4Wv/ck9Nz"})}]})}),(0,s.jsx)("div",{className:"space-y-4",children:"new"===C?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.ks,{label:(0,s.jsx)(o.A,{defaultMessage:"Project Name",id:"Az9uwzhyMi"}),value:w,onChange:e=>_(e.target.value),placeholder:v.formatMessage({defaultMessage:"Name your project",id:"BtIbm/e/WX"}),className:"w-full",disabled:D}),(0,s.jsx)(u.ks,{label:(0,s.jsx)(o.A,{defaultMessage:"What is this project for?",id:"8oOBARhJWj"}),value:N,onChange:e=>M(e.target.value),placeholder:v.formatMessage({defaultMessage:"Describe your project",id:"d03zATsDRn"}),className:"w-full",disabled:D})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-300 mb-1",children:(0,s.jsx)(o.A,{defaultMessage:"Project Name",id:"Az9uwzhyMi"})}),(0,s.jsx)(n.ms,{align:"start",side:"bottom",avoidCollisions:!1,matchTriggerWidth:!0,style:{"--dropdown-max-height":"300px",width:"var(--radix-dropdown-menu-trigger-width)"},trigger:(0,s.jsx)(x.$,{variant:"secondary",size:"default",className:"w-full justify-between text-left font-base gap-1 pr-2 rounded-lg",append:(0,s.jsx)(m.a,{className:"text-text-400",size:16}),disabled:k||D,children:(0,s.jsx)("span",{className:"truncate",children:A&&(null==S||null==(t=S.find(e=>e.uuid===A))?void 0:t.name)||v.formatMessage({defaultMessage:"Select a project",id:"HC2f2oYjRS"})})}),children:null==S?void 0:S.map(e=>(0,s.jsx)(n.tJ,{onSelect:()=>L(e.uuid),children:e.name},e.uuid))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm text-text-300 mb-1",children:(0,s.jsx)(o.A,{defaultMessage:"What is this project for?",id:"8oOBARhJWj"})}),(0,s.jsx)("div",{className:"bg-bg-100 p-3 rounded-lg text-text-200 italic",children:A&&(null==S||null==(a=S.find(e=>e.uuid===A))?void 0:a.description)||v.formatMessage({defaultMessage:"Select a project to see its description",id:"rwY32eZKXd"})})]})]})})]}),(0,s.jsxs)(h.vW,{className:"mt-6",children:[(0,s.jsx)(x.$,{variant:"secondary",onClick:j,disabled:D,children:(0,s.jsx)(o.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,s.jsx)(x.$,{onClick:I,disabled:!R||D,variant:"primary",children:"new"===C?(0,s.jsx)(o.A,{defaultMessage:"Create project",id:"VUN1K7kSzC"}):(0,s.jsx)(o.A,{defaultMessage:"Move to project",id:"+9Y66VlT9i"})})]})]})};var v=a(89674);function b(e){let{isOpen:t,onClose:a,initialName:l,conversationUUID:n}=e,r=(0,f.A)(),{mutate:c,isPending:m}=(0,i.HI)(n),[p,g]=(0,d.useState)(l),j=(0,d.useRef)(null);return(0,v.y)({shouldFocus:t,target:j}),(0,s.jsx)(h.aF,{isOpen:t,onClose:a,title:r.formatMessage({defaultMessage:"Rename chat",id:"Oi9LAY6C5H"}),children:(0,s.jsxs)("form",{className:"grid gap-2",onSubmit:e=>{e.preventDefault(),c({name:p}),a()},children:[(0,s.jsx)(u.ks,{"data-testid":"name-chat",ref:j,className:"mt-3",value:p,onChange:e=>g(e.target.value)}),(0,s.jsxs)(h.vW,{children:[(0,s.jsx)(x.$,{"data-testid":"name-chat-submit",type:"submit",disabled:m,children:(0,s.jsx)(o.A,{defaultMessage:"Save",id:"jvo0vs3nF0"})}),(0,s.jsx)(x.$,{variant:"secondary",type:"button",onClick:a,disabled:m,children:(0,s.jsx)(o.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})})}var C=a(22336);function y(e){let{isOpen:t,onClose:a,conversationUUID:l}=e,{data:n,isLoading:r}=(0,C.rC)({includeDeletedArtifacts:!1}),{mutate:c}=(0,i.t7)(),u=(0,p.usePathname)(),m=(()=>{let e=(0,p.useRouter)(),t=(0,p.useSearchParams)(),a=(0,d.useMemo)(()=>{let e=new URLSearchParams;(null==t?void 0:t.has("model"))&&e.append("model",t.get("model")),(null==t?void 0:t.has("max_tokens"))&&e.append("max_tokens",t.get("max_tokens")),(null==t?void 0:t.has("speak"))&&e.append("speak",t.get("speak")),(null==t?void 0:t.has("t"))&&e.append("t",t.get("t")),(null==t?void 0:t.has("q"))&&e.append("q",t.get("q"));let a=e.toString();return a?"?".concat(a):""},[t]);return{push:(0,d.useCallback)(t=>e.push("".concat(t).concat(a)),[e,a]),replace:(0,d.useCallback)(t=>e.replace("".concat(t).concat(a)),[e,a])}})();return(0,s.jsxs)(h.aF,{title:(0,s.jsx)(o.A,{defaultMessage:"Delete chat?",id:"M16o5rLckO"}),isOpen:t,onClose:a,children:[(0,s.jsx)("div",{className:"mt-1 mb-2",children:(()=>{let e=null==n?void 0:n.filter(e=>e.chat_conversation_uuid===l).map(e=>e.title);return e&&0!==e.length?(0,s.jsxs)("div",{children:[(0,s.jsx)(o.A,{defaultMessage:"When you delete this chat, you’ll also delete the published artifacts in this chat.",id:"+r05Hpg92t"}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("ul",{className:"list-disc pl-5",children:e.map(e=>(0,s.jsx)("li",{children:e},e))})})]}):(0,s.jsx)(o.A,{defaultMessage:"Are you sure you want to delete this chat?",id:"eoF+zSJr4t"})})()}),(0,s.jsxs)(h.vW,{children:[(0,s.jsx)(x.$,{variant:"danger","data-testid":"delete-modal-confirm",onClick:()=>{c({uuid:l}),a(),u==="/chat/".concat(l)&&m.push("/new")},disabled:r,children:(0,s.jsx)(o.A,{defaultMessage:"Delete",id:"K3r6DQW7h+"})}),(0,s.jsx)(x.$,{variant:"secondary",onClick:a,children:(0,s.jsx)(o.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})})]})]})}let w=e=>{let{conversation:t,initialName:a,open:u,onOpenChange:x,trigger:h}=e,{track:m}=(0,l.st)(),[p,f]=(0,d.useState)(!1),[g,v]=(0,d.useState)(!1),[C,w]=(0,d.useState)(!1),_=(0,c.K)(),{value:N}=(0,r.useFeatureGate)("move_conversation_to_projects"),M=_&&N,{mutate:A}=(0,i.wR)(t.uuid);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.ms,{align:"end",open:u,onOpenChange:x,trigger:h,unstyledTrigger:!0,children:(0,s.jsxs)("div",{children:[(0,s.jsx)(n.tJ,{"data-testid":"star-chat-trigger",onSelect:()=>{(()=>{let e=!t.is_starred;A({is_starred:e}),m({event_key:e?"claudeai.conversation.starred":"claudeai.conversation.unstarred",conversation_uuid:t.uuid,conversation_name:a})})(),null==x||x(!1)},children:t.is_starred?(0,s.jsx)(o.A,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,s.jsx)(o.A,{defaultMessage:"Star",id:"VwapsmdMes"})}),(0,s.jsx)(n.DG,{}),(0,s.jsx)(n.tJ,{"data-testid":"rename-chat-trigger",onSelect:()=>{f(!0),null==x||x(!1)},children:(0,s.jsx)(o.A,{defaultMessage:"Rename",id:"iXNbPfQDIZ"})}),M&&(0,s.jsx)(n.tJ,{"data-testid":"move-to-project-trigger",onSelect:()=>{w(!0),null==x||x(!1)},children:(0,s.jsx)(o.A,{defaultMessage:"Move to project",id:"+9Y66VlT9i"})}),(0,s.jsx)(n.tJ,{danger:!0,"data-testid":"delete-chat-trigger",onSelect:()=>{v(!0),null==x||x(!1)},children:(0,s.jsx)(o.A,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})]})}),(0,s.jsx)(y,{isOpen:g,onClose:()=>v(!1),conversationUUID:t.uuid}),(0,s.jsx)(b,{conversationUUID:t.uuid,isOpen:p,initialName:a,onClose:()=>f(!1)}),M&&(0,s.jsx)(j,{conversationUUID:t.uuid,currentProjectUUID:t.project_uuid,isOpen:C,onClose:()=>w(!1)})]})}},68866:(e,t,a)=>{a.d(t,{d:()=>i});var s=a(60045);function i(e){let t=s.c9.now(),a=s.c9.fromISO(e),i=a.diff(t,"minutes").toObject().minutes;return i&&1>=Math.abs(i)?"just now":a.toRelative()}},77316:(e,t,a)=>{a.d(t,{jC:()=>o,jS:()=>r,mw:()=>d});var s=a(77186),i=a(1761),l=a(71473),n=a(87606);function r(){var e;let t=(0,i.YL)();return(0,s.Sk)("/api/account/deletion-allowed",{queryKey:[l.w,null==t||null==(e=t.account)?void 0:e.uuid],staleTime:0})}function d(e){return(0,s.Sk)("/api/account_profile",{queryKey:[l.nt],...e})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.useQueryClient)();return(0,s.L2)("/api/account_profile","PUT",{...e,onSuccess:(a,s,i)=>{var n;t.invalidateQueries({queryKey:[l.nt]}),null==(n=e.onSuccess)||n.call(e,a,s,i)}})}},80929:(e,t,a)=>{a.d(t,{B:()=>n,IntercomProvider:()=>l});var s=a(54568),i=a(51844);function l(e){let{children:t,...a}=e;return(0,s.jsx)(i.F,{...a,children:t})}function n(){return(0,i.B)()}},84334:(e,t,a)=>{a.d(t,{S_:()=>i});let s={CLAUDE_E2E_TEST_ACCOUNT_REGEX:/^claude-[0-9]{16}(?:-[^-]+)?-e2e@sillylittleguy\.org$/,CONSOLE_E2E_TEST_ACCOUNT_REGEX:/^console-[0-9]{16}(?:-[^-]+)?-e2e@sillylittleguy\.org$/},i=e=>e.match(s.CONSOLE_E2E_TEST_ACCOUNT_REGEX)||e.match(s.CLAUDE_E2E_TEST_ACCOUNT_REGEX)},90238:(e,t,a)=>{a.d(t,{Iw:()=>u,Yq:()=>x,cR:()=>c});var s=a(54568),i=a(39323),l=a(68866),n=a(95356),r=a(51506),d=a(4705),o=a(17937);function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;switch(e){case i.v1.ACTIVE:return(0,s.jsx)(n.m,{size:t,className:"text-accent-brand animate-spin"});case i.v1.IDLE:return(0,s.jsx)(r.e,{size:t,className:"text-text-500"});case i.v1.ERROR:return(0,s.jsx)(d.N,{size:t,className:"text-danger-100"});case i.v1.COMPLETED:return(0,s.jsx)(o.r,{size:t});default:n.m}}function u(e){switch(e){case i.v1.ACTIVE:return"Active";case i.v1.IDLE:return"Idle";case i.v1.ERROR:return"Error";case i.v1.COMPLETED:return"Completed";default:return"Unknown"}}function x(e){if(!(null==e?void 0:e.seconds))return"";let t=new Date(1e3*Number(e.seconds));return(0,l.d)(t.toISOString())||""}}}]);