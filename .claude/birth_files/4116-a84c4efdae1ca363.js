"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4116],{15070:(e,i,n)=>{n.d(i,{b:()=>l});var a=n(65631),t=n(7620),u=n(1761);function l(e){let{account:i,activeOrganization:n}=(0,u.YL)();return(0,t.useMemo)(()=>(0,a.yI)(i,n,e),[i,n,e])}},34116:(e,i,n)=>{n.d(i,{$0:()=>Y,C:()=>V,Cm:()=>ea,Ew:()=>w,Gs:()=>B,Jh:()=>f,L3:()=>x,Le:()=>b,N_:()=>en,Nb:()=>L,PI:()=>ee,PQ:()=>Q,Pz:()=>m,Qn:()=>D,Si:()=>ei,UK:()=>F,Uu:()=>X,VK:()=>Z,Xi:()=>E,Xt:()=>q,ZA:()=>I,Zr:()=>S,_D:()=>W,a1:()=>J,bF:()=>k,bt:()=>z,c:()=>G,cR:()=>j,cg:()=>M,e0:()=>P,fS:()=>$,ib:()=>er,jH:()=>et,jN:()=>T,k0:()=>K,lG:()=>U,nc:()=>h,p$:()=>el,rB:()=>H,sd:()=>A,uS:()=>R,wu:()=>N,xy:()=>eu,yS:()=>O});var a=n(77186),t=n(1761),u=n(51121),l=n(15070),r=n(29585),o=n(71473),s=n(65631),c=n(87606),d=n(7620),y=n(95751),v=n(92249),_=n(38728),p=n(92075),g=n(40459);function m(e){let{onSuccess:i,onError:n}=e,{activeOrganization:u}=(0,t.YL)(),{data:l,variables:r,...o}=(0,a.L2)("/api/billing/".concat(null==u?void 0:u.uuid,"/consumer_pricing"),"POST",{enabled:!!u,meta:{noToast:!0},onError:n,onSuccess:i}),[s,c]=(0,d.useState)(),[y,v]=(0,d.useState)();return(0,d.useEffect)(()=>{l&&(c(l),v(r))},[l,r]),{data:s,variables:y,...o}}function f(e){let{onError:i}=e,{activeOrganization:n}=(0,t.YL)(),{data:u,variables:l,...r}=(0,a.L2)("/api/billing/".concat(null==n?void 0:n.uuid,"/cw_pricing"),"POST",{enabled:!!n,meta:{noToast:!0},onError:i}),[o,s]=(0,d.useState)(),[c,y]=(0,d.useState)();return(0,d.useEffect)(()=>{u&&(s(u),y(l))},[u,l]),{data:o,variables:c,...r}}function b(){var e,i,n,u;let{perBillingPeriod:l,onSuccess:r,onError:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:s}=(0,t.YL)(),[c,v]=(0,d.useState)(null),[_,p]=(0,d.useState)(),{data:g,isPending:m,error:f,mutate:b}=(0,a.L2)("/api/billing/".concat(null==s?void 0:s.uuid,"/individual_plan_pricing/v2"),"POST",{enabled:!!s,meta:{noToast:!0},onError:o,onSuccess:r});(0,d.useEffect)(()=>{g&&p(g)},[g]);let S=_||g,Q=S&&{country:S.country,currency:S.currency,price:l?null==(e=S.product_prices_per_billing_period)?void 0:e.max_5x_monthly:null==(i=S.product_prices_due_today)?void 0:i.max_5x_monthly,planType:y.un.FIVE_X};return{fiveXPricing:Q,twentyXPricing:S&&{country:S.country,currency:S.currency,price:l?null==(n=S.product_prices_per_billing_period)?void 0:n.max_20x_monthly:null==(u=S.product_prices_due_today)?void 0:u.max_20x_monthly,planType:y.un.TWENTY_X},isPending:m,error:f,fetchAllPricing:(0,d.useCallback)(e=>{v(e),e.noCache&&p(void 0),b(e)},[b]),addressParams:c}}let S=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.Sk)("/api/billing/".concat(null==e?void 0:e.uuid,"/reset_pricing"),{enabled:!!e,meta:{noToast:!0}})},Q=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription"),"PUT",{enabled:!!e})},L=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription/verify-payment"),"POST",{enabled:!!e})},q=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription/cw"),"PUT",{enabled:!!e})},K=()=>{let{activeOrganization:e}=(0,t.YL)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/rate_limit_reset"),"POST",{enabled:!!e})};function h(){let{activeOrganization:e}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null==e?void 0:e.uuid,"/payment_method"),{enabled:!!e,queryKey:["payment-method",null==e?void 0:e.uuid],staleTime:9e5})}function T(e){var i;let{activeOrganization:n}=(0,t.YL)(),u=(0,t.h0)();return(0,a.Sk)("/api/organizations/".concat(null==n?void 0:n.uuid,"/subscription_details"),{queryKey:[o.Gn,null==n?void 0:n.uuid],staleTime:0,initialData:null==e?void 0:e.initialData,refetchOnMount:null==e||!e.forceRefetch||"always",enabled:!!n&&u&&(null==(i=null==e?void 0:e.enabled)||i),meta:{noToast:e=>e instanceof r.LG&&404===e.statusCode}})}function Y(e){var i;let{activeOrganization:n}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null==n?void 0:n.uuid,"/paused_subscription_details"),{queryKey:[o.dZ,null==n?void 0:n.uuid],enabled:!!n&&(null==(i=null==e?void 0:e.enabled)||i),meta:{noToast:e=>e instanceof r.LG&&404===e.statusCode}})}function w(e){var i;let{activeOrganization:n}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null==n?void 0:n.uuid,"/trial_status"),{queryKey:[o.nb,null==n?void 0:n.uuid],enabled:!!n&&(null==(i=null==e?void 0:e.enabled)||i),meta:{noToast:e=>e instanceof r.LG&&404===e.statusCode}})}function z(){let{activeOrganization:e}=(0,t.YL)(),i=(0,c.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null==e?void 0:e.uuid,"/acknowledge_trial_end"),"POST",{enabled:!!e,meta:{noToast:!0},onSuccess:()=>{i.setQueryData([o.nb,null==e?void 0:e.uuid],e=>{if(e)return{...e,trial_end_requires_action:!1}})}})}let P=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{addError:a}=(0,u.Y)(),t=(0,c.useQueryClient)(),l=(0,v.UV)(e,{...n,async onSuccess(u,r,s){var c;if("payment_intent_client_secret"in u){let e=await i;return e?(await e.confirmPayment({clientSecret:u.payment_intent_client_secret,redirect:"if_required"})).error?void a("Payment confirmation failed. Please try again."):void l.mutate(r):void a("Stripe failed to initialize. Please try again.")}t.invalidateQueries({queryKey:[o.MJ,e]}),t.invalidateQueries({queryKey:[o._S,e]}),await (null==(c=n.onSuccess)?void 0:c.call(n,u,r,s))}});return l},U=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{addError:a}=(0,u.Y)(),t=(0,c.useQueryClient)(),l=(0,v.tH)(e,{...n,async onSuccess(u,r,s){var c;if("payment_intent_client_secret"in u){let e=await i;return e?(await e.confirmPayment({clientSecret:u.payment_intent_client_secret,redirect:"if_required"})).error?void a("Payment confirmation failed. Please try again."):void l.mutate(r):void a("Stripe failed to initialize. Please try again.")}t.invalidateQueries({queryKey:[o.MJ,e]}),t.invalidateQueries({queryKey:[o._S,e]}),await (null==(c=n.onSuccess)?void 0:c.call(n,u,r,s))}});return l};function C(){let{activeOrganization:e}=(0,t.YL)(),i=(0,t.mV)();return g.env.NEXT_PUBLIC_DISABLE_PAYMENTS?{data:{status:"active",cancel_at_ts:null},isLoading:!1}:(0,a.Sk)("/api/organizations/".concat(null==e?void 0:e.uuid,"/subscription_status"),{queryKey:[o._S,null==e?void 0:e.uuid],staleTime:0,enabled:!!e&&i,meta:{noToast:e=>e instanceof r.LG&&404===e.statusCode}})}function M(){let{data:e,isLoading:i}=C();return{isRavenTrialing:(null==e?void 0:e.status)==="trialing",isLoading:i}}function k(){let{data:e,isLoading:i}=C();return{isRavenCanceled:(null==e?void 0:e.status)==="canceled"||(null==e?void 0:e.status)==="unpaid",isLoading:i}}function D(){let{data:e,isLoading:i}=C();return{isRavenPastDue:(null==e?void 0:e.status)==="past_due",isLoading:i}}function G(){let{data:e,isLoading:i}=C();return{isRavenPendingCancellation:!!(null==e?void 0:e.cancel_at_ts),isLoading:i}}function O(){let{activeOrganization:e}=(0,t.YL)(),{isRavenCanceled:i,isLoading:n}=k(),{isRavenPastDue:a,isLoading:u}=D(),l=n||u,r=(null==e?void 0:e.billing_type)==="stripe_subscription_contracted";return{isLoading:l,canManageMembers:!l&&!i&&(r||!a)}}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/end_subscription"),"PUT",{...e,onSuccess(i,a,t){var l;n.setQueryData([o.Gn,u],e=>{if(e)return{...e,plan_ending_before:"".concat(i.plan_ends_at,"T00:00:00+00:00")}}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),n.invalidateQueries({queryKey:[o.Gn,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(n,"/cancellation_survey"),"POST",{...e,enabled:!!i})}function J(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/resume_subscription"),"PUT",{...e,onSuccess(i,a,t){var l;n.setQueryData([o.Gn,u],e=>{if(e)return{...e,plan_ending_before:null}}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null==i?void 0:i.uuid,"/renew_subscription/cw"),"PUT",{...e,onSuccess(a,t,u){var l;n.invalidateQueries({queryKey:[o.Gn,null==i?void 0:i.uuid]}),n.invalidateQueries({queryKey:[o._S,null==i?void 0:i.uuid]}),n.invalidateQueries({queryKey:[o.cc,null==i?void 0:i.uuid]}),n.invalidateQueries({queryKey:[o.MJ,null==i?void 0:i.uuid]}),null==(l=e.onSuccess)||l.call(e,a,t,u)},enabled:!!i})}function A(e){let{limit:i,createdSince:n,organizationUUID:u,meta:l}=e,{activeOrganization:r}=(0,t.YL)(),s=Math.round(n.toSeconds()),c=u||(null==r?void 0:r.uuid);return(0,a.Sk)("/api/stripe/".concat(c,"/invoices?limit=").concat(i,"&created_since_ts=").concat(s),{queryKey:[o.cc,c,{limit:i,created_since_ts:s}],staleTime:0,enabled:!!c,meta:l})}function Z(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,t.mV)();return(0,a.Sk)("/api/stripe/".concat(null==i?void 0:i.uuid,"/upcoming_invoice"),{queryKey:[o.MJ,null==i?void 0:i.uuid],staleTime:0,enabled:!!i&&n,meta:{noToast:e=>e instanceof r.LG&&500===e.statusCode},...e})}function I(){let{activeOrganization:e}=(0,t.YL)(),i=(0,c.useQueryClient)(),n=null==e?void 0:e.uuid;return(0,a.L2)("/api/organizations/".concat(n,"/payment_method/update_latest"),"POST",{onSuccess:async e=>{let a=i.getQueryData([o.Gn,n]);a&&e?i.setQueryData([o.Gn,n],{...a,payment_method:{...e}}):await i.invalidateQueries({queryKey:[o.Gn,n]}),i.invalidateQueries({queryKey:[o._S,n]}),i.invalidateQueries({queryKey:[o.cc,n]})},meta:{noToast:!0}})}function X(){let{data:e,isLoading:i}=(0,_.Nk)(),{data:n,isLoading:a}=(0,v.of)(),u=(0,l.b)(s.Nt.MembersManage),{data:r}=(0,p.U6)(),o=(0,t.zm)(),c=et(),d=i||a||!e||!n||!r;if(d)return{isLoading:d,hasManageMembersPermission:u,membersWithMinApplied:!1,activeMembers:0,invitedMembers:0,unclaimedMembers:0,minimumApplied:!1,memberLimit:0,isUnlimited:!1,unclaimedSeatsByTier:{...Object.fromEntries(c.map(e=>[e,0]))}};let y=e.length,g=n.filter(e=>"pending"===e.status).length,m=y+g,f=Math.max(y+g,5),b=o?r.members_limit-m:Math.max(5-m,0),S=Object.fromEntries(c.map(i=>{var a,t;let u=null!=(t=null==(a=r.seat_tier_quantities)?void 0:a[i])?t:0,l=e.filter(e=>e.seat_tier===i).length,o=n.filter(e=>e.seat_tier===i&&"pending"===e.status).length;return[i,u-(l+o)]}));return{isLoading:d,hasManageMembersPermission:u,totalMembersWithoutMinimumApplied:m,totalMembersWithMinimumApplied:f,activeMembers:y,invitedMembers:g,unclaimedMembers:b,minimumApplied:m<5,memberLimit:r.members_limit,isUnlimited:r.unlimited_members||!1,unclaimedSeatsByTier:S}}function R(){var e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),u="/api/organizations/".concat(null!=(e=null==n?void 0:n.uuid)?e:"","/profile"),l=(0,c.useQueryClient)();return(0,a.L2)(u,"PUT",{...i,async onSuccess(){for(var e,n=arguments.length,a=Array(n),t=0;t<n;t++)a[t]=arguments[t];await l.invalidateQueries({queryKey:[o.Oi]}),await (null==(e=i.onSuccess)?void 0:e.call(i,...a))}})}function V(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/pro/upgrade_to_yearly"),"PUT",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.cc,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function B(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/team/upgrade_to_annual"),"PUT",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.cc,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function j(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/pro/switch_billing_interval"),"PUT",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.Oi,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/upgrade_to_max"),"PUT",{...e,transformVariables:e=>({max_tier:e.maxTier,promo_code:e.promoCode}),onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.cc,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function W(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/downgrade_individual_claude_subscription"),"PUT",{...e,onSuccess(i,a,t){var l;if(i.downgrade_timestamp){let e=new Date(1e3*i.downgrade_timestamp).toISOString();n.setQueryData([o.Gn,u],i=>{if(i)return{...i,scheduled_downgrade:{base_price_in_minor_units:0,billing_interval:a.target_plan_type.includes("annual")?"yearly":"monthly",currency:"USD",date:e,plan_type:a.target_plan_type},has_schedule:!0}})}n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/cancel_subscription_downgrade"),"PUT",{...e,onSuccess(i,a,t){var l;n.setQueryData([o.Gn,u],e=>{if(e)return{...e,scheduled_downgrade:void 0,has_schedule:!1}}),n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o._S,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function $(e){let{activeOrganization:i}=(0,t.YL)();return(0,a.Sk)("/api/stripe/".concat(null==i?void 0:i.uuid,"/balance"),{queryKey:["stripe-balance",null==i?void 0:i.uuid],staleTime:18e5,enabled:!!i,...e})}function ee(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{activeOrganization:i}=(0,t.YL)(),n=null==i?void 0:i.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/check_3ds_required"),{enabled:e&&!!i,queryKey:["check-3ds-required",n],meta:{noToast:!0},staleTime:864e5,refetchOnWindowFocus:!1,refetchOnMount:!1})}function ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/verify_payment_method_3ds"),"POST",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:["check-3ds-required",u]}),n.invalidateQueries({queryKey:[o.Gn,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function en(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{activeOrganization:i}=(0,t.YL)(),n=null==i?void 0:i.uuid;return(0,a.Sk)("/api/organizations/".concat(n,"/retention_coupon_eligibility"),{enabled:e&&!!i,queryKey:["retention-coupon-eligibility",n],meta:{noToast:!0},staleTime:3e5,refetchOnWindowFocus:!1,refetchOnMount:!0})}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/redeem_retention_coupon"),"POST",{...e,onSuccess(i,a,t){var l;i.success&&(n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o.MJ,u]})),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}let et=()=>{var e;let i=(0,l.b)(s.Nt.BillingManage),n=(0,l.b)(s.Nt.BillingView),a=i&&n,{data:t}=T({enabled:a});if(!a||!t)return[];let u=Object.keys(null!=(e=null==t?void 0:t.seat_tier_quantities)?e:{});return u.includes("unassigned")?u:[...u,"unassigned"]},eu=()=>{let e=et();return s.uK.some(i=>e.includes(i))};function el(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/pause_subscription"),"PUT",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}function er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=(0,c.useQueryClient)(),u=null==i?void 0:i.uuid;return(0,a.L2)("/api/organizations/".concat(u,"/unpause_subscription"),"PUT",{...e,onSuccess(i,a,t){var l;n.invalidateQueries({queryKey:[o.Gn,u]}),n.invalidateQueries({queryKey:[o._S,u]}),n.invalidateQueries({queryKey:[o.MJ,u]}),n.invalidateQueries({queryKey:[o.dZ,u]}),null==(l=e.onSuccess)||l.call(e,i,a,t)},enabled:!!i})}},38728:(e,i,n)=>{n.d(i,{Nk:()=>s,fp:()=>d,y0:()=>c});var a=n(77186),t=n(1761),u=n(51121),l=n(29585),r=n(71473),o=n(87606);let s=()=>{var e;let{activeOrganization:i}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null!=(e=null==i?void 0:i.uuid)?e:"","/members"),{enabled:!!(null==i?void 0:i.uuid)&&(i.capabilities.includes("api")||i.capabilities.includes("raven")),queryKey:[r.si,{orgUUID:null==i?void 0:i.uuid}],staleTime:0})},c=function(e){var i;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{activeOrganization:u}=(0,t.YL)(),l=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(null!=(i=null==u?void 0:u.uuid)?i:"","/members/").concat(e),"PUT",{...n,meta:{errorMessage:"There was an error updating the user."},async onSuccess(){for(var e,i=arguments.length,a=Array(i),t=0;t<i;t++)a[t]=arguments[t];await Promise.all([l.invalidateQueries({queryKey:[r.si,{orgUUID:null==u?void 0:u.uuid}]}),l.invalidateQueries({queryKey:[r.ZD,{orgUUID:null==u?void 0:u.uuid}]})]),await (null==(e=n.onSuccess)?void 0:e.call(n,...a))}})},d=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)(),{addError:s}=(0,u.Y)(),c="uuid"in i?i.uuid:i.account.uuid,d="email_address"in i?i.email_address:i.account.email_address;return(0,a.L2)("/api/organizations/".concat(e,"/members/").concat(c),"DELETE",{...n,meta:{noToast:!0},async onSuccess(){for(var i,a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];await t.invalidateQueries({queryKey:[r.si,{orgUUID:e}]}),t.invalidateQueries({queryKey:[r.MJ,e]}),t.invalidateQueries({queryKey:[r._S,e]}),await (null==(i=n.onSuccess)?void 0:i.call(n,...u))},onError(e){var i,n;e instanceof l.LG&&(null==(n=e.extra)||null==(i=n.details)?void 0:i.type)==="seat_minimum_reached"?s("You cannot go below 5 members."):s("There was an error removing ".concat(d," from the organization."))}})}},92075:(e,i,n)=>{n.d(i,{BH:()=>c,NE:()=>_,Nj:()=>r,QY:()=>v,U6:()=>s,VK:()=>p,iD:()=>o,k3:()=>g,q:()=>d,rX:()=>y});var a=n(77186),t=n(1761),u=n(71473),l=n(87606);let r=e=>(0,a.Sk)("/api/organizations/".concat(e),{queryKey:[u.i5,e],enabled:!!e,staleTime:3e4}),o=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid;return(0,a.Qv)(e=>{let{flagType:n}=e;return"/api/organizations/".concat(i,"/flags/").concat(n,"/dismiss")},"POST",(e,i)=>{let{flagType:n}=e;if(i)return{...i,active_flags:i.active_flags.filter(e=>e.type!==n)}},{queryKey:[u.i5,i]})},s=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/members_limit"),{queryKey:[u.hz,i],enabled:!!i,staleTime:0})},c=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid,n=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(i,"/contracted_quantity"),"PUT",{enabled:!!i,onSuccess:async()=>{await n.invalidateQueries({queryKey:[u.hz,i]})}})},d=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/public_projects_enabled"),{queryKey:[u._d,i],enabled:!!i,staleTime:0})},y=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/feature_settings"),{queryKey:[u.RR,i],enabled:!!i,staleTime:0})},v=()=>{var e,i;let{activeOrganization:n}=(0,t.YL)(),{data:a}=r(null==n?void 0:n.uuid);return null==(i=null==a||null==(e=a.settings)?void 0:e.claude_ai_completion_feedback_enabled)||i};function _(){var e;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,t.YL)(),r="/api/organizations/".concat(null!=(e=null==n?void 0:n.uuid)?e:""),o=(0,l.useQueryClient)();return(0,a.L2)(r,"PUT",{enabled:!!n,...i,async onSuccess(){for(var e,n=arguments.length,a=Array(n),t=0;t<n;t++)a[t]=arguments[t];await Promise.all([o.invalidateQueries({queryKey:[u.Rw]}),o.invalidateQueries({queryKey:[u.i5]})]),await (null==(e=i.onSuccess)?void 0:e.call(i,...a))}})}let p=()=>{let{activeOrganization:e}=(0,t.YL)(),i=null==e?void 0:e.uuid;return(0,a.Sk)("/api/organizations/".concat(i,"/allowed_domains"),{queryKey:[u.OX,i],enabled:!!i})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:i}=(0,t.YL)(),n=null==i?void 0:i.uuid,r=(0,l.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(n,"/allowed_domains"),"PUT",{enabled:!!n,...e,onSuccess:async function(){for(var i,a=arguments.length,t=Array(a),l=0;l<a;l++)t[l]=arguments[l];await r.invalidateQueries({queryKey:[u.OX,n]}),await (null==(i=e.onSuccess)?void 0:i.call(e,...t))}})}},92249:(e,i,n)=>{n.d(i,{BF:()=>v,UV:()=>c,oF:()=>y,of:()=>s,tH:()=>d});var a=n(77186),t=n(1761),u=n(51121),l=n(29585),r=n(71473),o=n(87606);let s=()=>{var e;let{activeOrganization:i}=(0,t.YL)();return(0,a.Sk)("/api/organizations/".concat(null!=(e=null==i?void 0:i.uuid)?e:"","/invites"),{enabled:!!(null==i?void 0:i.uuid)&&(i.capabilities.includes("api")||i.capabilities.includes("raven")),queryKey:[r.ZD,{orgUUID:null==i?void 0:i.uuid}],staleTime:0})},c=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites"),"POST",{...i,async onSuccess(){for(var a,t=arguments.length,u=Array(t),l=0;l<t;l++)u[l]=arguments[l];await n.invalidateQueries({queryKey:[r.ZD,{orgUUID:e}]}),n.invalidateQueries({queryKey:[r.MJ,e]}),n.invalidateQueries({queryKey:[r._S,e]}),await (null==(a=i.onSuccess)?void 0:a.call(i,...u))}})},d=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/bulk"),"POST",{...i,async onSuccess(){for(var a,t=arguments.length,u=Array(t),l=0;l<t;l++)u[l]=arguments[l];await n.invalidateQueries({queryKey:[r.ZD,{orgUUID:e}]}),n.invalidateQueries({queryKey:[r.MJ,e]}),n.invalidateQueries({queryKey:[r._S,e]}),await (null==(a=i.onSuccess)?void 0:a.call(i,...u))}})},y=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)(),{addError:s}=(0,u.Y)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/").concat(i),"DELETE",{...n,meta:{noToast:!0},async onSuccess(){for(var i,a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];await t.invalidateQueries({queryKey:[r.ZD,{orgUUID:e}]}),t.invalidateQueries({queryKey:[r.MJ,e]}),t.invalidateQueries({queryKey:[r._S,e]}),await (null==(i=n.onSuccess)?void 0:i.call(n,...u))},onError(e){var i,n;e instanceof l.LG&&(null==(n=e.extra)||null==(i=n.details)?void 0:i.type)==="seat_minimum_reached"?s("You cannot go below 5 members."):s("There was an error revoking the invite.")}})},v=function(e,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(0,o.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(e,"/invites/").concat(i),"PUT",{...n,async onSuccess(){for(var i,a=arguments.length,u=Array(a),l=0;l<a;l++)u[l]=arguments[l];await t.invalidateQueries({queryKey:[r.ZD,{orgUUID:e}]}),await (null==(i=n.onSuccess)?void 0:i.call(n,...u))}})}},95751:(e,i,n)=>{n.d(i,{NW:()=>a,un:()=>t});var a=function(e){return e.MONTHLY="monthly",e.YEARLY="yearly",e}({}),t=function(e){return e.FIVE_X="max_5x",e.TWENTY_X="max_20x",e}({})}}]);